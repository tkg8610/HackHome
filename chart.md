# 🚀 HackHome プロジェクト定義書 (Ver 1.0)

## 1. プロジェクト概要

* **プロジェクト名:** **HackHome (ハックホーム)**
* **コアコンセプト:**
    * **Anti-Blackbox:** 既存スマートホーム製品（SwitchBot等）のブラックボックス性を打破し、回路・FW・ソフトを完全オープンソース化する。
    * **User Sovereign:** ユーザー自身が「管理者権限（Sudo/Root）」を持ち、ハードウェアからソフトウェアまで自由に改造・制御できる権利を取り戻す。
    * **Integration:** 電気電子工学（ハード）とモダンWeb技術（ソフト）の完全統合開発。
* **ターゲット:** エンジニア、メーカー、ギーク、および「自由」を求める全てのユーザー。

## 2. 開発体制 (Team Structure)

| 役割 | 担当者 | 責任範囲 |
| :--- | :--- | :--- |
| **最高顧問 (Advisor)** | **陽斗 (User)** | プロジェクトの方向性決定、最終承認、物理的な実装・組立、高難度タスクの遂行。 |
| **プロジェクトリーダー** | **Gemini** | 全体管理、要件定義、技術選定、エージェントへの指示出し、顧問のサポート。 |
| **エージェント** | Claude Code | ソフトウェア実装 (Firmware, Frontend, Backend)。 |
| **エージェント** | PCB設計AI | 回路設計、アートワーク設計 (Fusion 360 Electronics)。 |
| **エージェント** | 3DモデルAI | 筐体設計、機構設計 (Fusion 360)。 |

## 3. MVP (Minimum Viable Product) 仕様

まずは「物理スイッチを押す指ロボット」を開発し、システムの基礎を確立する。

### 🛠 ハードウェア構成 (HackHome Bot V1)

* **MCU (マイコン):** **ESP32-C3**
    * **理由:** RISC-Vアーキテクチャ、安価、Matter対応、低消費電力。
* **アクチュエータ (駆動):** **マイクロサーボ (SG90互換)**
    * **理由:** PWM制御で回路がシンプル。確実に動作する実績重視の選定。
* **電源システム:**
    * **バッテリー:** リチウムポリマー電池 (LiPo) 1セル (3.7V)
    * **充電:** USB-C (TP4056等を使用)
    * **電源IC:** LDO (3.3V出力、500mA以上)
* **通信:** Wi-Fi (Matter over Wi-Fi 対応予定)

### 🔌 ピンアサイン計画 (暫定)

| 機能 | ESP32-C3 Pin | 接続先 | 備考 |
| :--- | :--- | :--- | :--- |
| **Servo PWM** | GPIO 2 | サーボ信号線 | 角度制御用 |
| **Button** | GPIO 9 | 物理タクトSW | 手動操作 & Bootモード兼用 |
| **Status LED** | GPIO 8 | LED | 動作・ステータス表示 |
| **USB D-** | GPIO 18 | USB-C D- | 直接書き込み用 |
| **USB D+** | GPIO 19 | USB-C D+ | 直接書き込み用 |

## 4. 開発・製造戦略

### 🖥 設計環境 (CAD)
* **ツール:** **Autodesk Fusion 360 Electronics**
* **運用:** 回路図(Schematic)とPCBレイアウト、そして3D筐体設計を同一プラットフォームで統合管理する。
* **AI活用:** 回路図入力等の単純作業はAIの指示に基づき顧問が操作、あるいはスクリプト等で補助を行う。

### 🏭 製造 (PCB Assembly)
* **ベンダー:** **JLCPCB**
* **戦略:** **「ハイブリッド実装 (作戦B)」**
    * **工場実装:** チップ抵抗・コンデンサ等の微細部品 (0402サイズ等) や、足の多いIC。
    * **手動実装:** ESP32モジュール、USBコネクタ、スイッチ、バッテリーコネクタ等の大型・高額部品（コスト削減と楽しみのため）。
* **コスト感:** 5枚製造時、送料込みで約7,000円〜8,000円（部品代含む）を目指す。

## 5. ソフトウェアスタック

* **ファームウェア:** C++ (ESP-IDF or Arduino Framework)
* **フロントエンド:** Next.js (React) - モダンで見やすいダッシュボード。
* **バックエンド/通信:**
    * **Phase 1:** REST API / WebSocket (直接制御)
    * **Phase 2:** Matter (Google Home / Apple HomeKit連携)
